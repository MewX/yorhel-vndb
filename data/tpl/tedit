<h2>[[: $p{PageTitle} ]]</h2>
[[ if($d{tag}) { my($type, $iid) = ($1, $2||0) if $d{tag} =~ /^([a-z]{1,2})([0-9]*)$/; ]]-
<p>
 <a href="/t">Discussion board</a>
 &gt; <a href="/t/[[= $type ]]">[[: $VNDB::DTAGS->{$type} ]]</a>
 [[ if($iid) { ]]-
   &gt; <a href="/t/[[= $d{tag} ]]">[[: $d{tag} ]]</a>[[ } ]]-
</p>
[[ } ]]

-[[= cform( [
 { type => 'error' },
 { type => 'startform', action => $d{p} ? '/t'.$d{t}{id}.'.'.$d{p}{num}.'/edit' : $d{t} ? '/t'.$d{t}{id}.'/reply' : '/t/'.$d{tag}.'/new' },
 { type => 'static', name => 'Username', text => '<a href="/u'.($d{p}?$d{p}{uid}:$p{AuthId}).'">'.($d{p}?$d{p}{username}:$p{AuthUsername}).'</a>' },
 $d{t} && !($d{p} && $d{p}{num} == 1) ? (
   { type => 'static', name => 'Topic', text => '<a href="/t'.$d{t}{id}.'">'.$d{t}{title}.'</a>.' }
 ) : (
   { type => 'input', short => 'title', name => 'Thread title' },
   { type => 'input', short => 'tags', name => 'Tags' },
   { type => 'static', text => 'Read <a href="/d9.2">d9.2</a> for information about how to use tags' },
   $p{Authboardmod} ? (
     { type => 'check', short => 'lock', name => 'Locked' },
   ) : (),
 ),
 $p{Authboardmod} ? (
   { type => 'check', short => 'hide', name => 'Hidden' },
 ) : (),
 { type => 'textarea', short => 'msg', name => 'Message', rows => 10, cols => 60 },
 { type => 'static', text => 'It is possible to include formatting and ID codes, see <a href="/d9.3">d9.3</a> for more information.' },
 { type => 'submit', text => 'Submit' },
 { type => 'endform' },
], $d{form}) ]]-

